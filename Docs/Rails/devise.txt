gem 'devise'

rails g devise:install  # Permet de générer la configuration
rails g devise:views    # Permet d'importer les vues
rails g devise User     # Permet de générer le model et les migrations pour le model User

<p class="notice"><%= notice %></p>
<p class="alert"><%= alert %></p>

db/migrations/xxx_devise_create_users.rb
t.string :name

rails db:migrate

<ul>
  <% if user_signed_in? %>
    <li>
      <%= link_to "Sign Out", destroy_user_session_path, method: :delete %>
    </li>
    <li>
      <%= current_user_email %>
    </li>
    <li>
      <%= link_to "Edit Account", edit_user_registration_path %>
    </li>
  <% else %>
    <li>
      <%= link_to "Sign In", new_user_session_path %>
    </li>
    <li>
      <%= link_to "Sign Up", new_user_registration_path %>
    </li>
  <% end %>
</ul>

rails g migration AddAddressToUsers address:string

ApplicationController
  before_action :sanitize_devise_params, if :devise_controller?

  protected

  def sanitize_devise_params
    devise_parameter_sanitizer.permit(:sign_up, keys: [:address])
  end

registrations/new.html.etb
<%= f.label :address, 'address' %>
<%= f.text_field :address %>

------------------------------

<div class="container">
  <% flash.each do |key, value| %>
    <div class="alert alert-<%= key %>">
      <%= value %>
    </div>
  <% end %>
</div>
